[gd_scene load_steps=78 format=3 uid="uid://bosg5oeaw8eqj"]

[ext_resource type="Script" uid="uid://xsayx2sybb3k" path="res://entities/boids/BroccoliBoid/broccoli_boid.gd" id="1_njlat"]
[ext_resource type="Texture2D" uid="uid://cga7gmr45ukhy" path="res://assets/sprites/attacks/explosion/blood_explosion.png" id="2_61ugq"]
[ext_resource type="Texture2D" uid="uid://bifok7yg7ghwe" path="res://assets/sprites/characters/people/broccoli-boid.png" id="3_dge5u"]
[ext_resource type="AudioStream" uid="uid://dopqehyqshgip" path="res://assets/sfx/enemies/wilhelm-scream.ogg" id="4_82wgh"]
[ext_resource type="PackedScene" uid="uid://cfqffrmv32wct" path="res://ui/HealthBar/health_bar.tscn" id="5_xtopf"]

[sub_resource type="AtlasTexture" id="AtlasTexture_768l2"]
atlas = ExtResource("2_61ugq")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_avgqo"]
atlas = ExtResource("2_61ugq")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_m5ws5"]
atlas = ExtResource("2_61ugq")
region = Rect2(192, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_mf240"]
atlas = ExtResource("2_61ugq")
region = Rect2(256, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_prf3b"]
atlas = ExtResource("2_61ugq")
region = Rect2(320, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_l7lf8"]
atlas = ExtResource("2_61ugq")
region = Rect2(384, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ehal3"]
atlas = ExtResource("2_61ugq")
region = Rect2(448, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ylqfm"]
atlas = ExtResource("2_61ugq")
region = Rect2(448, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_kpl52"]
atlas = ExtResource("3_dge5u")
region = Rect2(0, 900, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_x73yo"]
atlas = ExtResource("3_dge5u")
region = Rect2(64, 900, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_aiye8"]
atlas = ExtResource("3_dge5u")
region = Rect2(128, 900, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_hb0we"]
atlas = ExtResource("3_dge5u")
region = Rect2(192, 900, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_bq464"]
atlas = ExtResource("3_dge5u")
region = Rect2(256, 900, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_x86b5"]
atlas = ExtResource("3_dge5u")
region = Rect2(320, 900, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_dngx1"]
atlas = ExtResource("3_dge5u")
region = Rect2(0, 836, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_uj7p3"]
atlas = ExtResource("3_dge5u")
region = Rect2(64, 836, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_gjq7u"]
atlas = ExtResource("3_dge5u")
region = Rect2(128, 836, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_omk0p"]
atlas = ExtResource("3_dge5u")
region = Rect2(192, 836, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_dfonq"]
atlas = ExtResource("3_dge5u")
region = Rect2(256, 836, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_48npw"]
atlas = ExtResource("3_dge5u")
region = Rect2(320, 836, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qnwfd"]
atlas = ExtResource("3_dge5u")
region = Rect2(0, 964, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_lh3ml"]
atlas = ExtResource("3_dge5u")
region = Rect2(64, 964, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_3yile"]
atlas = ExtResource("3_dge5u")
region = Rect2(128, 964, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_3ptrq"]
atlas = ExtResource("3_dge5u")
region = Rect2(192, 964, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qypi4"]
atlas = ExtResource("3_dge5u")
region = Rect2(256, 964, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_uacj0"]
atlas = ExtResource("3_dge5u")
region = Rect2(320, 964, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_o7g8q"]
atlas = ExtResource("3_dge5u")
region = Rect2(0, 772, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_a5vmg"]
atlas = ExtResource("3_dge5u")
region = Rect2(64, 772, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ny070"]
atlas = ExtResource("3_dge5u")
region = Rect2(128, 772, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ox27i"]
atlas = ExtResource("3_dge5u")
region = Rect2(192, 772, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qqpcq"]
atlas = ExtResource("3_dge5u")
region = Rect2(256, 772, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_eunil"]
atlas = ExtResource("3_dge5u")
region = Rect2(320, 772, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_nwaar"]
atlas = ExtResource("3_dge5u")
region = Rect2(0, 644, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0o8q1"]
atlas = ExtResource("3_dge5u")
region = Rect2(64, 644, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_o3mc4"]
atlas = ExtResource("3_dge5u")
region = Rect2(128, 644, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_8swpb"]
atlas = ExtResource("3_dge5u")
region = Rect2(192, 644, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0n7a7"]
atlas = ExtResource("3_dge5u")
region = Rect2(256, 644, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_3h0ya"]
atlas = ExtResource("3_dge5u")
region = Rect2(320, 644, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_556tb"]
atlas = ExtResource("3_dge5u")
region = Rect2(384, 644, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_d4q5j"]
atlas = ExtResource("3_dge5u")
region = Rect2(448, 644, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_4o8s8"]
atlas = ExtResource("3_dge5u")
region = Rect2(512, 644, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ldkoy"]
atlas = ExtResource("3_dge5u")
region = Rect2(0, 580, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_micio"]
atlas = ExtResource("3_dge5u")
region = Rect2(64, 580, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_2r03v"]
atlas = ExtResource("3_dge5u")
region = Rect2(128, 580, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_gmewe"]
atlas = ExtResource("3_dge5u")
region = Rect2(192, 580, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ytsuo"]
atlas = ExtResource("3_dge5u")
region = Rect2(256, 580, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_bxt4e"]
atlas = ExtResource("3_dge5u")
region = Rect2(320, 580, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_5gqm7"]
atlas = ExtResource("3_dge5u")
region = Rect2(384, 580, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qtomi"]
atlas = ExtResource("3_dge5u")
region = Rect2(448, 580, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_besmy"]
atlas = ExtResource("3_dge5u")
region = Rect2(512, 580, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_yh1t5"]
atlas = ExtResource("3_dge5u")
region = Rect2(0, 708, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_71ljb"]
atlas = ExtResource("3_dge5u")
region = Rect2(64, 708, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_dqbeq"]
atlas = ExtResource("3_dge5u")
region = Rect2(128, 708, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_1m3sv"]
atlas = ExtResource("3_dge5u")
region = Rect2(192, 708, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_pphco"]
atlas = ExtResource("3_dge5u")
region = Rect2(256, 708, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_y0s61"]
atlas = ExtResource("3_dge5u")
region = Rect2(320, 708, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_t24wc"]
atlas = ExtResource("3_dge5u")
region = Rect2(384, 708, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_wpsxn"]
atlas = ExtResource("3_dge5u")
region = Rect2(448, 708, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_o13ml"]
atlas = ExtResource("3_dge5u")
region = Rect2(512, 708, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_b13pf"]
atlas = ExtResource("3_dge5u")
region = Rect2(0, 516, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_fdksr"]
atlas = ExtResource("3_dge5u")
region = Rect2(64, 516, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_spe5j"]
atlas = ExtResource("3_dge5u")
region = Rect2(128, 516, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_s6wb0"]
atlas = ExtResource("3_dge5u")
region = Rect2(192, 516, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_lvlrw"]
atlas = ExtResource("3_dge5u")
region = Rect2(256, 516, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ep7xs"]
atlas = ExtResource("3_dge5u")
region = Rect2(320, 516, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_efeeb"]
atlas = ExtResource("3_dge5u")
region = Rect2(384, 516, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qkyjl"]
atlas = ExtResource("3_dge5u")
region = Rect2(448, 516, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_l2m7u"]
atlas = ExtResource("3_dge5u")
region = Rect2(512, 516, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_6kiy8"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_768l2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_avgqo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m5ws5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mf240")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_prf3b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l7lf8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ehal3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ylqfm")
}],
"loop": false,
"name": &"die",
"speed": 15.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_kpl52")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x73yo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_aiye8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hb0we")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bq464")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x86b5")
}],
"loop": true,
"name": &"slash_down",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dngx1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uj7p3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gjq7u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_omk0p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dfonq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_48npw")
}],
"loop": true,
"name": &"slash_left",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_qnwfd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lh3ml")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3yile")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3ptrq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qypi4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uacj0")
}],
"loop": true,
"name": &"slash_right",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_o7g8q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a5vmg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ny070")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ox27i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qqpcq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_eunil")
}],
"loop": true,
"name": &"slash_up",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nwaar")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0o8q1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o3mc4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8swpb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0n7a7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3h0ya")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_556tb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d4q5j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4o8s8")
}],
"loop": true,
"name": &"walk_down",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ldkoy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_micio")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2r03v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gmewe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ytsuo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bxt4e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5gqm7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qtomi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_besmy")
}],
"loop": true,
"name": &"walk_left",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_yh1t5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_71ljb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dqbeq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1m3sv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pphco")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y0s61")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t24wc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wpsxn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o13ml")
}],
"loop": true,
"name": &"walk_right",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_b13pf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fdksr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_spe5j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s6wb0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lvlrw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ep7xs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_efeeb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qkyjl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l2m7u")
}],
"loop": true,
"name": &"walk_up",
"speed": 10.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_hxjm0"]
radius = 5.99252
height = 26.2172

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wyqns"]
size = Vector2(34.0824, 51.3109)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_fmhfh"]
bg_color = Color(0.600612, 0.161166, 0.305443, 1)

[node name="BroccoliBoid" type="CharacterBody2D" groups=["boids", "enemies"]]
z_index = 1
y_sort_enabled = true
scale = Vector2(2.67, 2.67)
collision_layer = 2
collision_mask = 3
script = ExtResource("1_njlat")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_6kiy8")
animation = &"slash_down"
frame_progress = 0.814057

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-0.374532, 20.9738)
rotation = 1.5708
shape = SubResource("CapsuleShape2D_hxjm0")

[node name="RayUp" type="RayCast2D" parent="."]
target_position = Vector2(0, -49)

[node name="RayDown" type="RayCast2D" parent="."]

[node name="RayLeft" type="RayCast2D" parent="."]
target_position = Vector2(-62, 1)

[node name="RayRight" type="RayCast2D" parent="."]
target_position = Vector2(66, 0)

[node name="HitBox" type="Area2D" parent="." groups=["boids", "enemies"]]
collision_layer = 2
collision_mask = 31

[node name="CollisionShape2D" type="CollisionShape2D" parent="HitBox"]
position = Vector2(-0.936329, 2.43446)
shape = SubResource("RectangleShape2D_wyqns")

[node name="Sound" type="Node" parent="."]

[node name="ScreamPlayer" type="AudioStreamPlayer" parent="Sound"]
stream = ExtResource("4_82wgh")
volume_db = -15.0
mix_target = 1
bus = &"SFX"

[node name="HealthBar" parent="." instance=ExtResource("5_xtopf")]
offset_left = -7.86517
offset_top = 24.3446
offset_right = 10.1348
offset_bottom = 28.3446
theme_override_styles/fill = SubResource("StyleBoxFlat_fmhfh")

[connection signal="animation_finished" from="AnimatedSprite2D" to="." method="_on_animated_sprite_2d_animation_finished"]
[connection signal="body_entered" from="HitBox" to="." method="_on_hit_box_body_entered"]
[connection signal="body_exited" from="HitBox" to="." method="_on_hit_box_body_exited"]
